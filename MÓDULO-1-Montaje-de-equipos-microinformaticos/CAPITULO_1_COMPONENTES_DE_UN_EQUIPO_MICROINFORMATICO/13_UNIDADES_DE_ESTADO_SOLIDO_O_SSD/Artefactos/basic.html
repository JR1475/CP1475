<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de SSD - Lectura y Escritura</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .control-group {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 20px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 150px;
        }
        
        label {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        
        select, input {
            padding: 8px 12px;
            border-radius: 6px;
            border: none;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-size: 1rem;
            width: 100%;
        }
        
        button {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }
        
        .ssd-visualization {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            min-height: 500px;
        }
        
        .ssd-title {
            text-align: center;
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #4CAF50;
        }
        
        .blocks-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }
        
        .block {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 15px;
            width: 280px;
            transition: all 0.3s;
            position: relative;
        }
        
        .block:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.4);
        }
        
        .block-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .block-title {
            font-weight: 600;
            color: #4CAF50;
        }
        
        .block-status {
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.2);
        }
        
        .pages-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .page {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        
        .page-title {
            color: #81C784;
        }
        
        .cells-container {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 5px;
        }
        
        .cell {
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .cell:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .cell.occupied {
            background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
            color: white;
        }
        
        .cell.empty {
            background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);
            color: white;
        }
        
        .cell.selected {
            box-shadow: 0 0 15px #4CAF50;
            border: 2px solid #4CAF50;
            z-index: 10;
        }
        
        .cell.reading {
            animation: pulse 1s infinite;
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
        }
        
        .cell.writing {
            animation: pulse 1s infinite;
            background: linear-gradient(135deg, #9C27B0 0%, #7B1FA2 100%);
        }
        
        .cell.erasing {
            animation: erase 1s;
            background: linear-gradient(135deg, #F44336 0%, #D32F2F 100%);
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        @keyframes erase {
            0% { transform: scale(1) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.5) rotate(180deg); opacity: 0.5; }
            100% { transform: scale(1) rotate(360deg); opacity: 1; }
        }
        
        .operation-panel {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .operation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .operation-title {
            font-size: 1.3rem;
            color: #4CAF50;
        }
        
        .operation-status {
            padding: 5px 15px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.2);
            font-size: 0.9rem;
        }
        
        .operation-steps {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .step {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 8px;
            flex: 1;
            min-width: 150px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .step.active {
            background: rgba(76, 175, 80, 0.3);
            border: 1px solid #4CAF50;
            transform: translateY(-3px);
        }
        
        .step.completed {
            background: rgba(76, 175, 80, 0.2);
            opacity: 0.7;
        }
        
        .step-number {
            display: inline-block;
            width: 25px;
            height: 25px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            line-height: 25px;
            margin-bottom: 5px;
        }
        
        .step.active .step-number {
            background: #4CAF50;
        }
        
        .step.completed .step-number {
            background: #2E7D32;
        }
        
        .data-display {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            text-align: center;
        }
        
        .data-value {
            font-size: 1.5rem;
            color: #4CAF50;
            margin: 10px 0;
        }
        
        .info-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            border-left: 4px solid #4CAF50;
        }
        
        .info-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #81C784;
        }
        
        .info-text {
            line-height: 1.6;
            opacity: 0.9;
        }
        
        .hidden {
            display: none;
        }
        
        .highlight {
            animation: highlight 2s;
        }
        
        @keyframes highlight {
            0% { background: rgba(255, 255, 255, 0.1); }
            50% { background: rgba(76, 175, 80, 0.3); }
            100% { background: rgba(255, 255, 255, 0.1); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Simulador de SSD</h1>
            <p class="subtitle">Visualización del proceso de lectura y escritura en memoria flash NAND</p>
        </header>
        
        <div class="content">
            <div class="controls">
                <div class="control-group">
                    <label for="operation-type">Operación</label>
                    <select id="operation-type">
                        <option value="read">Lectura</option>
                        <option value="write">Escritura</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="block-select">Bloque</label>
                    <select id="block-select">
                        <option value="0">Bloque 0</option>
                        <option value="1">Bloque 1</option>
                        <option value="2">Bloque 2</option>
                        <option value="3">Bloque 3</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="page-select">Página</label>
                    <select id="page-select">
                        <option value="0">Página 0</option>
                        <option value="1">Página 1</option>
                        <option value="2">Página 2</option>
                        <option value="3">Página 3</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="cell-select">Celda</label>
                    <select id="cell-select">
                        <option value="0">Celda 0</option>
                        <option value="1">Celda 1</option>
                        <option value="2">Celda 2</option>
                        <option value="3">Celda 3</option>
                        <option value="4">Celda 4</option>
                        <option value="5">Celda 5</option>
                        <option value="6">Celda 6</option>
                        <option value="7">Celda 7</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="data-input">Dato (0-255)</label>
                    <input type="number" id="data-input" min="0" max="255" value="42">
                </div>
                
                <div class="control-group">
                    <label>&nbsp;</label>
                    <button id="execute-btn">Ejecutar Operación</button>
                </div>
            </div>
            
            <div class="operation-panel">
                <div class="operation-header">
                    <div class="operation-title" id="operation-title">Operación: Lectura</div>
                    <div class="operation-status" id="operation-status">Listo</div>
                </div>
                
                <div class="operation-steps" id="operation-steps">
                    <!-- Los pasos se generarán dinámicamente -->
                </div>
                
                <div class="data-display hidden" id="data-display">
                    <div>Dato leído:</div>
                    <div class="data-value" id="data-value">--</div>
                    <div id="data-binary"></div>
                </div>
            </div>
            
            <div class="ssd-visualization">
                <div class="ssd-title">Estructura Interna del SSD</div>
                <div class="blocks-container" id="blocks-container">
                    <!-- Los bloques se generarán dinámicamente -->
                </div>
            </div>
            
            <div class="info-panel">
                <div class="info-title">Información Técnica</div>
                <div class="info-text" id="info-text">
                    Los SSD utilizan memoria flash NAND organizada en bloques, páginas y celdas. 
                    La lectura se realiza a nivel de página, mientras que la escritura requiere que 
                    el bloque esté previamente borrado. Los bloques se borran completamente antes 
                    de poder escribir nuevos datos.
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Configuración del SSD
            const BLOCK_COUNT = 4;
            const PAGES_PER_BLOCK = 4;
            const CELLS_PER_PAGE = 8;
            
            // Estado del SSD
            let ssd = [];
            let operationInProgress = false;
            
            // Elementos del DOM
            const operationType = document.getElementById('operation-type');
            const blockSelect = document.getElementById('block-select');
            const pageSelect = document.getElementById('page-select');
            const cellSelect = document.getElementById('cell-select');
            const dataInput = document.getElementById('data-input');
            const executeBtn = document.getElementById('execute-btn');
            const operationTitle = document.getElementById('operation-title');
            const operationStatus = document.getElementById('operation-status');
            const operationSteps = document.getElementById('operation-steps');
            const dataDisplay = document.getElementById('data-display');
            const dataValue = document.getElementById('data-value');
            const dataBinary = document.getElementById('data-binary');
            const blocksContainer = document.getElementById('blocks-container');
            const infoText = document.getElementById('info-text');
            
            // Inicializar SSD
            function initializeSSD() {
                ssd = [];
                for (let b = 0; b < BLOCK_COUNT; b++) {
                    const block = {
                        erased: true,
                        pages: []
                    };
                    
                    for (let p = 0; p < PAGES_PER_BLOCK; p++) {
                        const page = {
                            cells: new Array(CELLS_PER_PAGE).fill(null)
                        };
                        block.pages.push(page);
                    }
                    
                    ssd.push(block);
                }
                
                // Prellenar algunos datos para demostración
                ssd[0].pages[0].cells[0] = 42;
                ssd[0].pages[0].cells[1] = 128;
                ssd[0].pages[1].cells[2] = 255;
                ssd[0].erased = false;
                
                ssd[1].pages[0].cells[3] = 17;
                ssd[1].erased = false;
            }
            
            // Renderizar SSD
            function renderSSD() {
                blocksContainer.innerHTML = '';
                
                for (let b = 0; b < BLOCK_COUNT; b++) {
                    const block = document.createElement('div');
                    block.className = 'block';
                    block.dataset.block = b;
                    
                    const blockHeader = document.createElement('div');
                    blockHeader.className = 'block-header';
                    
                    const blockTitle = document.createElement('div');
                    blockTitle.className = 'block-title';
                    blockTitle.textContent = `Bloque ${b}`;
                    
                    const blockStatus = document.createElement('div');
                    blockStatus.className = 'block-status';
                    blockStatus.textContent = ssd[b].erased ? 'Borrado' : 'Ocupado';
                    
                    blockHeader.appendChild(blockTitle);
                    blockHeader.appendChild(blockStatus);
                    block.appendChild(blockHeader);
                    
                    const pagesContainer = document.createElement('div');
                    pagesContainer.className = 'pages-container';
                    
                    for (let p = 0; p < PAGES_PER_BLOCK; p++) {
                        const page = document.createElement('div');
                        page.className = 'page';
                        page.dataset.block = b;
                        page.dataset.page = p;
                        
                        const pageHeader = document.createElement('div');
                        pageHeader.className = 'page-header';
                        
                        const pageTitle = document.createElement('div');
                        pageTitle.className = 'page-title';
                        pageTitle.textContent = `Página ${p}`;
                        
                        pageHeader.appendChild(pageTitle);
                        page.appendChild(pageHeader);
                        
                        const cellsContainer = document.createElement('div');
                        cellsContainer.className = 'cells-container';
                        
                        for (let c = 0; c < CELLS_PER_PAGE; c++) {
                            const cell = document.createElement('div');
                            cell.className = 'cell';
                            cell.dataset.block = b;
                            cell.dataset.page = p;
                            cell.dataset.cell = c;
                            
                            if (ssd[b].pages[p].cells[c] !== null) {
                                cell.classList.add('occupied');
                                cell.textContent = ssd[b].pages[p].cells[c];
                            } else {
                                cell.classList.add('empty');
                                cell.textContent = '0';
                            }
                            
                            cell.addEventListener('click', function() {
                                if (!operationInProgress) {
                                    selectCell(b, p, c);
                                }
                            });
                            
                            cellsContainer.appendChild(cell);
                        }
                        
                        page.appendChild(cellsContainer);
                        pagesContainer.appendChild(page);
                    }
                    
                    block.appendChild(pagesContainer);
                    blocksContainer.appendChild(block);
                }
            }
            
            // Seleccionar celda
            function selectCell(block, page, cell) {
                // Limpiar selección anterior
                document.querySelectorAll('.cell.selected').forEach(c => {
                    c.classList.remove('selected');
                });
                
                // Seleccionar nueva celda
                const cellElement = document.querySelector(`.cell[data-block="${block}"][data-page="${page}"][data-cell="${cell}"]`);
                if (cellElement) {
                    cellElement.classList.add('selected');
                    
                    // Actualizar controles
                    blockSelect.value = block;
                    pageSelect.value = page;
                    cellSelect.value = cell;
                    
                    // Actualizar info
                    updateInfo(block, page, cell);
                }
            }
            
            // Actualizar información
            function updateInfo(block, page, cell) {
                const cellData = ssd[block].pages[page].cells[cell];
                if (cellData !== null) {
                    infoText.innerHTML = `
                        Celda seleccionada: Bloque ${block}, Página ${page}, Celda ${cell}<br>
                        Estado: Ocupada<br>
                        Dato almacenado: ${cellData} (binario: ${cellData.toString(2).padStart(8, '0')})
                    `;
                } else {
                    infoText.innerHTML = `
                        Celda seleccionada: Bloque ${block}, Página ${page}, Celda ${cell}<br>
                        Estado: Vacía<br>
                        Esta celda está disponible para escritura.
                    `;
                }
            }
            
            // Configurar pasos de operación
            function setupOperationSteps() {
                operationSteps.innerHTML = '';
                const operation = operationType.value;
                
                if (operation === 'read') {
                    operationTitle.textContent = 'Operación: Lectura';
                    const steps = [
                        { title: 'Seleccionar Bloque', description: 'Acceder al bloque de memoria' },
                        { title: 'Seleccionar Página', description: 'Localizar la página específica' },
                        { title: 'Leer Celda', description: 'Recuperar el dato almacenado' },
                        { title: 'Mostrar Resultado', description: 'Presentar el dato leído' }
                    ];
                    
                    steps.forEach((step, index) => {
                        const stepElement = createStepElement(index + 1, step.title, step.description);
                        operationSteps.appendChild(stepElement);
                    });
                } else {
                    operationTitle.textContent = 'Operación: Escritura';
                    const steps = [
                        { title: 'Verificar Estado', description: 'Comprobar si el bloque está borrado' },
                        { title: 'Borrar Bloque', description: 'Limpiar todo el bloque (si es necesario)' },
                        { title: 'Seleccionar Página', description: 'Localizar la página de escritura' },
                        { title: 'Escribir Dato', description: 'Almacenar el nuevo valor' },
                        { title: 'Confirmar Escritura', description: 'Verificar operación completada' }
                    ];
                    
                    steps.forEach((step, index) => {
                        const stepElement = createStepElement(index + 1, step.title, step.description);
                        operationSteps.appendChild(stepElement);
                    });
                }
            }
            
            // Crear elemento de paso
            function createStepElement(number, title, description) {
                const step = document.createElement('div');
                step.className = 'step';
                step.innerHTML = `
                    <div class="step-number">${number}</div>
                    <div>${title}</div>
                    <small>${description}</small>
                `;
                return step;
            }
            
            // Ejecutar operación
            async function executeOperation() {
                if (operationInProgress) return;
                
                operationInProgress = true;
                executeBtn.disabled = true;
                dataDisplay.classList.add('hidden');
                
                const operation = operationType.value;
                const block = parseInt(blockSelect.value);
                const page = parseInt(pageSelect.value);
                const cell = parseInt(cellSelect.value);
                const data = parseInt(dataInput.value);
                
                // Resaltar selección
                const cellElement = document.querySelector(`.cell[data-block="${block}"][data-page="${page}"][data-cell="${cell}"]`);
                cellElement.classList.add('selected');
                
                // Obtener pasos
                const steps = operationSteps.querySelectorAll('.step');
                
                try {
                    if (operation === 'read') {
                        await executeReadOperation(block, page, cell, steps);
                    } else {
                        await executeWriteOperation(block, page, cell, data, steps);
                    }
                } catch (error) {
                    console.error('Error en operación:', error);
                } finally {
                    operationInProgress = false;
                    executeBtn.disabled = false;
                    
                    // Limpiar estado de pasos
                    steps.forEach(step => {
                        step.classList.remove('active', 'completed');
                    });
                }
            }
            
            // Ejecutar operación de lectura
            async function executeReadOperation(block, page, cell, steps) {
                operationStatus.textContent = 'Leyendo...';
                
                // Paso 1: Seleccionar Bloque
                await highlightStep(steps[0]);
                await highlightBlock(block);
                
                // Paso 2: Seleccionar Página
                await highlightStep(steps[1]);
                await highlightPage(block, page);
                
                // Paso 3: Leer Celda
                await highlightStep(steps[2]);
                const cellElement = document.querySelector(`.cell[data-block="${block}"][data-page="${page}"][data-cell="${cell}"]`);
                cellElement.classList.add('reading');
                
                await sleep(1000);
                const cellData = ssd[block].pages[page].cells[cell];
                
                // Paso 4: Mostrar Resultado
                await highlightStep(steps[3]);
                
                if (cellData !== null) {
                    dataValue.textContent = cellData;
                    dataBinary.textContent = `Binario: ${cellData.toString(2).padStart(8, '0')}`;
                    dataDisplay.classList.remove('hidden');
                    operationStatus.textContent = 'Lectura completada';
                } else {
                    dataValue.textContent = 'Vacío';
                    dataBinary.textContent = 'No hay datos almacenados';
                    dataDisplay.classList.remove('hidden');
                    operationStatus.textContent = 'Celda vacía';
                }
                
                cellElement.classList.remove('reading');
            }
            
            // Ejecutar operación de escritura
            async function executeWriteOperation(block, page, cell, data, steps) {
                operationStatus.textContent = 'Escribiendo...';
                
                // Paso 1: Verificar Estado
                await highlightStep(steps[0]);
                await sleep(500);
                
                // Paso 2: Borrar Bloque (si es necesario)
                await highlightStep(steps[1]);
                if (!ssd[block].erased) {
                    await eraseBlock(block);
                }
                
                // Paso 3: Seleccionar Página
                await highlightStep(steps[2]);
                await highlightPage(block, page);
                
                // Paso 4: Escribir Dato
                await highlightStep(steps[3]);
                const cellElement = document.querySelector(`.cell[data-block="${block}"][data-page="${page}"][data-cell="${cell}"]`);
                cellElement.classList.add('writing');
                
                await sleep(1000);
                ssd[block].pages[page].cells[cell] = data;
                ssd[block].erased = false;
                
                // Actualizar visualización
                cellElement.classList.remove('empty');
                cellElement.classList.add('occupied');
                cellElement.textContent = data;
                cellElement.classList.remove('writing');
                
                // Actualizar estado del bloque
                const blockElement = document.querySelector(`.block[data-block="${block}"]`);
                const blockStatus = blockElement.querySelector('.block-status');
                blockStatus.textContent = 'Ocupado';
                
                // Paso 5: Confirmar Escritura
                await highlightStep(steps[4]);
                operationStatus.textContent = 'Escritura completada';
                
                dataValue.textContent = data;
                dataBinary.textContent = `Binario: ${data.toString(2).padStart(8, '0')}`;
                dataDisplay.classList.remove('hidden');
            }
            
            // Resaltar paso
            async function highlightStep(stepElement) {
                stepElement.classList.add('active');
                await sleep(800);
                stepElement.classList.remove('active');
                stepElement.classList.add('completed');
            }
            
            // Resaltar bloque
            async function highlightBlock(block) {
                const blockElement = document.querySelector(`.block[data-block="${block}"]`);
                blockElement.classList.add('highlight');
                await sleep(500);
                blockElement.classList.remove('highlight');
            }
            
            // Resaltar página
            async function highlightPage(block, page) {
                const pageElement = document.querySelector(`.page[data-block="${block}"][data-page="${page}"]`);
                pageElement.classList.add('highlight');
                await sleep(500);
                pageElement.classList.remove('highlight');
            }
            
            // Borrar bloque
            async function eraseBlock(block) {
                const blockElement = document.querySelector(`.block[data-block="${block}"]`);
                const cells = blockElement.querySelectorAll('.cell');
                
                // Animación de borrado
                cells.forEach(cell => {
                    cell.classList.add('erasing');
                });
                
                await sleep(1000);
                
                // Borrar datos
                for (let p = 0; p < PAGES_PER_BLOCK; p++) {
                    for (let c = 0; c < CELLS_PER_PAGE; c++) {
                        ssd[block].pages[p].cells[c] = null;
                    }
                }
                ssd[block].erased = true;
                
                // Actualizar visualización
                cells.forEach(cell => {
                    cell.classList.remove('occupied', 'erasing');
                    cell.classList.add('empty');
                    cell.textContent = '0';
                });
                
                // Actualizar estado del bloque
                const blockStatus = blockElement.querySelector('.block-status');
                blockStatus.textContent = 'Borrado';
            }
            
            // Función de espera
            function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
            
            // Event Listeners
            operationType.addEventListener('change', setupOperationSteps);
            executeBtn.addEventListener('click', executeOperation);
            
            // Inicialización
            initializeSSD();
            renderSSD();
            setupOperationSteps();
        });
    </script>
</body>
</html>
